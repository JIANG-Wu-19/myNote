# 数字图像处理

## 概论

![image-20231008141243782](imgs/1.png)

##  数字图像处理基础

### 人眼视觉感知

* 人眼 <=> 照相机
  * 眼帘 <=> 镜头盖
  * 瞳孔 <=> 光圈
  * 晶状体 <=> 透镜
  * 视网膜 <=> 底片
  * 视神经细胞 <=> 感光药膜
    * 视杆细胞
    * 视锥细胞



* 人眼辨别亮度差别的能力，与环境亮度和本身亮度有关
* 感知亮度并不是实际灰度的简单函数（马赫带效应）



### 图像的感知与获取

图像获取方式：

* 单传感器
* 条传感器
* 传感器阵列



### 图像采样与量化

* 成像模型

  $0<f(x,y)< \infty$

* 连续感知数据->数字形式

* 采样与量化

  * 采样：空间坐标的离散化，决定图像的空间分辨率
  * 量化：图像函数值（幅值）的数字化，光强，决定图像幅度（灰度级）分辨率



* 动态范围、饱和度、对比度
  * $f(x,y):x,y \in Z,f \in Z$



#### 图像数字化：对M、N和离散灰度级数L

* $L=2^k$
* $f \in [0,L-1]$



#### 图像量化

* 均匀量化
* 非均匀量化
  * 基于视觉特性
  * 基于统计特性



#### 空间与灰度分辨率

* 空间分辨率：每英寸点数表示dpi
* 灰度分辨率：用于量化灰度的比特数



* 图像内插（重采样）：调整图像的大小、旋转、几何校正
  * 下采样/收缩：行列删除
  * 上采样/放大：创建新的像素位置，对新位置上的像素赋值

##### 最近邻插值

原图中最近邻的灰度赋给新像素

块效应和马赛克效应

##### 双线性插值

用四个最近邻位置上的灰度值估计给定位置的灰度值

比最近邻插值效果好，没有明显的块效应

计算量比最近邻插值大，使图像细节退化

### 图像的表示与描述

#### 数学表示

二维离散信号：$I=f(x,y)$

$(x,y)$表示图像像素坐标

$f(x,y)$表示在坐标处像素的灰度值

**二维矩阵**

**坐标索引**

矩阵是按照行列的顺序来定位数据的，但是图像是在平面上定位数据的，所以有一个坐标系定义上的特殊性。

**线性索引**

由一个一维的非负整数串组成，通过计算到坐标(0,0)的偏移量得到

行扫描

列扫描

#### 图像描述

##### 灰度图像

图像中的每个像素的信息由一个量化的灰度级来描述，没有色彩信息

灰度图像像素的灰度级通常为8bits，即0~255。“0”表示纯黑色，“255”表示纯白色

##### 黑白图像/二值图像

黑白图像是对灰度图像二值化

图像中的每个像素只能是黑或者白，没有中间的过渡，故又称二值图像，二值图像的像素值为0、1；

对二值图像进一步处理

### 像素间基本关系

像素是图像的基本组成单元，在图像空间中网格化排列

像素间基本关系：

* 相邻像素
* 邻接、连接、连通
* 集合间关系

#### 像素间的距离

p,q坐标为$(x,y),(s,t)$

* 欧氏距离$D_E$

  范数为2的距离

  $D_E(p,q)= \sqrt{(x-s)^2+(y-t)^2}$

* 曼哈顿距离

  $D_4(p,q)=|x-s|+|y-t|$

* 切比雪夫距离

  $D_8(p,q)=max \{|x-s|,|y-t| \}$

测量像素在空间的接近程度

**距离度量函数**定义

设3个像素$p,q,r$，坐标分别为$(x,y),(s,t),(u,v)$，函数D为一个距离度量
函数，其必须满足下列三个条件

1. $D(p,q) \ge 0,D(p,q)=0$当且仅当p=q **像素距离非负**
2. $D(p,q)=D(q,p)$ **像素距离与起终点选择无关**
3. $D(p,r) \le D(p,q)+D(q,r)$ **像素之间的最短距离是直线距离**

#### 邻域

**4-邻域** $N_4(p)$

![image-20231020143239327](imgs/2.png)

**对角邻域** $N_D(p)$

![image-20231020143413854](imgs/3.png)

**8-邻域** $N_8(p)$

![image-20231020143543501](imgs/4.png)

#### 邻接性

V是用于定义邻接的灰度值集合

![image-20231020144228399](imgs/5.png)

**4-邻接**

* q在p的$N_4(p)$中，且都在V中取值
* q在$N_4(p)$中意味着p在$N_4(q)$中

**8-邻接**

* q在p的$N_8(p)$中，且都在V中取值
* q在$N_8(p)$中意味着p在$N_8(q)$中

**m-邻接/混合邻接**

* 都在V中取值，满足下列条件之一：
  1. q在$N_4(p)$中，即p、q是4-邻接
  2. q在$N_D(p)$中，且$N_4(p) \cap N_4(q)=\varnothing$

m-邻接可以认为是8-邻接的一种变形，引进它是为了消除使用8-邻接时，常出现的多路问题。

#### 连通性

像素间的通路：从具有坐标$(x_0,y_0)$的像素$p_0$到具有坐标$(x_n,y_n)$的像素q的一
条通路由一系列具有坐标$(x_0,y_0)$,$(x_1,y_1)$, …, $(x_n,y_n)$的独立像素组成，且满足：

1. $(x_i,y_i)$与$(x_{i-1},y_{i-1})$邻接
2. $1 \le i \le n$，n为通路长度

* 如果$(x_0,y_0)=(x_n,y_n)$，则通路称为闭合通路
* 根据不同的邻接定义，可以得到不同的通路

**像素间的连通**

* $S$表示图像中像素的一个子集
* 如果S中的两个像素p和q之间存在一个完全由S中像素组成的通路（通路上所有像素的灰度值均满足某个特定的相似准则），则像素p和q在S中是连通的
* 连通分量：连通到S中的任何像素p的像素集合
* 连通集： 如果S仅有一个连通分量

#### 区域与边界

令R表示图像中像素的一个子集。若R是一个连通集，称R为图像的一个区域

若$R_i$和$R_j$形成一个连通集时，称$R_i$和$R_j$为邻接区域。

K个不相交的区域$R_k$，$R_u$表示所有K个区域的并集

$R_u$称为图像的前景，$(R_u)^c$为背景

区域的边界也称为区域的轮廓，是该区域的一个子集，但在其邻域中有不属于该区域的元素，它将该区域与其他区域分开

必须**指定所用连接类型**才能确定一个像素是否属于边界

![image-20231020152134446](imgs/6.png)

### 数学工具

#### 阵列与矩阵操作

#### 线性操作与非线性操作

设操作H和两个图像$f(x,y),g(x,y)$对于常数$a_1,a_2$
$$
H[a_1f(x,y)+a_2g(x,y)]=a_1H \cdot f(x,y)+a_2H \cdot g(x,y)
$$
成立，那么称H是线性操作，否则，称为非线性操作

线性操作满足两个法则

1. 比例性/同质：$y=f(x),\forall a,a \cdot y=f(a \cdot x)$
2. 叠加性：$y_1=f(x_1),y_2=f(x_2),y_1+y_2=f(x_1+x_2)$

#### 算术运算

加减乘除

#### 集合运算和逻辑运算

#### 空间运算

#### 图像变换

## 空间域图像增强

















